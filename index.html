<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ninja Linking Tool - Outil de Link Building</title>
    <link rel="stylesheet" href="ninja-linking-styles.css">
    <link rel="stylesheet" href="autumn-theme.css">
    <link rel="stylesheet" href="white-theme.css">
    <link rel="stylesheet" href="theme-selector.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- S√©lecteur de th√®me -->
    <div class="theme-selector" id="themeSelector">
        <div class="theme-option theme-autumn active" data-theme="autumn" title="Th√®me Automne">
            <i class="fas fa-leaf theme-icon"></i>
            <div class="theme-tooltip">Automne</div>
        </div>
        <div class="theme-option theme-white" data-theme="white" title="Th√®me Blanc">
            <i class="fas fa-sun theme-icon"></i>
            <div class="theme-tooltip">Blanc</div>
        </div>
    </div>
    
    <div class="app">
        <!-- Interface d'authentification -->
        <div id="auth-container" class="auth-container">
            <div class="auth-modal">
                <div class="auth-header">
                    <h1><i class="fas fa-bullseye"></i> Ninja Linking Tool</h1>
                    <p>Outil professionnel de link building</p>
                </div>
                
                <!-- Formulaire de connexion -->
                <div id="login-form" class="auth-form active">
                    <h2>Connexion</h2>
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="loginEmail">Email</label>
                            <input type="email" id="loginEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Mot de passe</label>
                            <input type="password" id="loginPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Se connecter</button>
                        <p class="auth-switch">
                            Pas de compte ? <a href="#" onclick="showSignupForm()">Cr√©er un compte</a>
                        </p>
                        <p class="auth-switch">
                            <a href="#" onclick="showResetForm()">Mot de passe oubli√© ?</a>
                        </p>
                    </form>
                </div>

                <!-- Formulaire d'inscription -->
                <div id="signup-form" class="auth-form">
                    <h2>Cr√©er un compte</h2>
                    <form id="signupForm">
                        <div class="form-group">
                            <label for="signupEmail">Email</label>
                            <input type="email" id="signupEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="signupPassword">Mot de passe</label>
                            <input type="password" id="signupPassword" required minlength="6">
                        </div>
                        <div class="form-group">
                            <label for="signupConfirmPassword">Confirmer le mot de passe</label>
                            <input type="password" id="signupConfirmPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Cr√©er le compte</button>
                        <p class="auth-switch">
                            D√©j√† un compte ? <a href="#" onclick="showLoginForm()">Se connecter</a>
                        </p>
                    </form>
                </div>

                <!-- Formulaire de r√©initialisation -->
                <div id="reset-form" class="auth-form">
                    <h2>Mot de passe oubli√©</h2>
                    <form id="resetForm">
                        <div class="form-group">
                            <label for="resetEmail">Email</label>
                            <input type="email" id="resetEmail" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Envoyer le lien de r√©initialisation</button>
                        <p class="auth-switch">
                            <a href="#" onclick="showLoginForm()">Retour √† la connexion</a>
                        </p>
                    </form>
                </div>
            </div>
        </div>

        <!-- Interface principale (masqu√©e par d√©faut) -->
        <div id="main-app" class="main-app" style="display: none;">
            <!-- Header -->
            <header class="header">
                <div class="header-content">
                    <h1><i class="fas fa-bullseye"></i> Ninja Linking Tool</h1>
                    <p>Outil professionnel de link building</p>
                    <div class="user-info" id="userInfo">
                        <span id="userEmail"></span>
                        <button onclick="logout()" class="btn btn-secondary btn-sm" id="logoutBtn" style="display: none;" title="D√©connexion">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                        <button onclick="showAuthForm()" class="btn btn-primary btn-sm" id="loginBtn">
                            <i class="fas fa-sign-in-alt"></i> Se connecter
                        </button>
                    </div>
                </div>
            </header>

        <!-- Navigation -->
        <nav class="navigation">
            <div class="nav-container">
                <button class="nav-btn active" data-page="ninjalinking">
                    <i class="fas fa-search"></i>
                    <span>Ninjalinking</span>
                </button>
                <button class="nav-btn" data-page="serp">
                    <i class="fas fa-search-plus"></i>
                    <span>Exploration SERP</span>
                </button>
                <button class="nav-btn" data-page="ereputation">
                    <i class="fas fa-shield-alt"></i>
                    <span>E-R√©putation</span>
                </button>
                <button class="nav-btn" data-page="ia">
                    <i class="fas fa-robot"></i>
                    <span>IA</span>
                </button>
                <button class="nav-btn" data-page="projects">
                    <i class="fas fa-folder-open"></i>
                    <span>Projets</span>
                </button>
                <button class="nav-btn" data-page="catalog">
                    <i class="fas fa-database"></i>
                    <span>Catalogue</span>
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Page Ninjalinking -->
            <div class="page active" id="ninjalinking-page">
                <div class="page-header">
                    <h2>Recherche de Footprints</h2>
                    <p>S√©lectionnez vos cat√©gories et g√©n√©rez vos recherches Google</p>
                </div>

                <div class="search-section">
                    <div class="search-form">
                        <input type="text" id="keywordInput" placeholder="Entrez vos mots-cl√©s...">
                        <button onclick="generateSearches('google')" class="btn btn-primary">
                            <i class="fab fa-google"></i> Google
                        </button>
                        <button onclick="generateSearches('bing')" class="btn btn-primary">
                            <i class="fab fa-microsoft"></i> Bing
                        </button>
                    </div>
                </div>

                <div class="categories-grid">
                    <div class="category-card" data-category="blogs">
                        <div class="card-icon">
                            <i class="fas fa-blog"></i>
                        </div>
                        <h3>üìù Blogs</h3>
                        <p>Opportunit√©s de commentaires sur blogs</p>
                    </div>

                    <div class="category-card" data-category="forums">
                        <div class="card-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h3>üí¨ Forums</h3>
                        <p>Discussions et forums sp√©cialis√©s</p>
                    </div>

                    <div class="category-card" data-category="livres-dor">
                        <div class="card-icon">
                            <i class="fas fa-book"></i>
                        </div>
                        <h3>üìñ Livres d'or</h3>
                        <p>Livres d'or et guestbooks</p>
                    </div>

                    <div class="category-card" data-category="annuaires">
                        <div class="card-icon">
                            <i class="fas fa-list"></i>
                        </div>
                        <h3>üìö Annuaires</h3>
                        <p>Soumission dans les annuaires</p>
                    </div>

                    <div class="category-card" data-category="profils">
                        <div class="card-icon">
                            <i class="fas fa-user"></i>
                        </div>
                        <h3>üë§ Profils utilisateurs</h3>
                        <p>Pages de profils utilisateurs</p>
                    </div>

                    <div class="category-card" data-category="hybrides">
                        <div class="card-icon">
                            <i class="fas fa-cogs"></i>
                        </div>
                        <h3>‚öôÔ∏è Hybrides</h3>
                        <p>CMS et plateformes pr√©cises</p>
                    </div>

                    <div class="category-card" data-category="articles-invites">
                        <div class="card-icon">
                            <i class="fas fa-pen-fancy"></i>
                        </div>
                        <h3>‚úçÔ∏è Articles invit√©s</h3>
                        <p>Opportunit√©s d'articles invit√©s</p>
                    </div>
                </div>

                <div class="footprints-section" id="footprintsSection" style="display: none;">
                    <div class="footprints-header">
                        <h3>Footprints s√©lectionn√©s</h3>
                        <div class="footprints-actions">
                            <button class="btn btn-secondary" onclick="selectAllFootprints()">
                                <i class="fas fa-check-square"></i> Tout s√©lectionner
                            </button>
                            <button class="btn btn-secondary" onclick="deselectAllFootprints()">
                                <i class="fas fa-square"></i> Tout d√©s√©lectionner
                            </button>
                        </div>
                    </div>
                    <div class="footprints-list" id="footprintsList"></div>
                </div>

            </div>

            <!-- Page Exploration SERP -->
            <div class="page" id="serp-page">
                <div class="page-header">
                    <h2>Exploration SERP</h2>
                    <p>Op√©rateurs avanc√©s Google/Bing pour des recherches pr√©cises</p>
                </div>

                <div class="search-section">
                    <div class="search-form">
                        <input type="text" id="serpKeyword" placeholder="Entrez votre mot-cl√© pour tester...">
                        <button onclick="testSerpOperators('google')" class="btn btn-primary">
                            <i class="fab fa-google"></i> Google
                        </button>
                        <button onclick="testSerpOperators('bing')" class="btn btn-primary">
                            <i class="fab fa-microsoft"></i> Bing
                        </button>
                    </div>
                </div>

                <!-- Cat√©gories d'op√©rateurs SERP -->
                <div class="categories-grid">
                    <div class="category-card" data-category="analyse-concurrents">
                        <div class="card-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <h3>üîß Analyse de sites concurrents</h3>
                        <p>Selon une requ√™te</p>
                    </div>
                    
                    <div class="category-card" data-category="contenus-autorite">
                        <div class="card-icon">
                            <i class="fas fa-archive"></i>
                        </div>
                        <h3>üóÉ Contenus evergreen ou d'autorit√©</h3>
                        <p>Contenus de r√©f√©rence</p>
                    </div>
                    
                    <div class="category-card" data-category="contenus-seo">
                        <div class="card-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>üìö Contenus optimis√©s SEO</h3>
                        <p>D√©tection de contenus SEO</p>
                    </div>
                    
                    <div class="category-card" data-category="operateurs-date">
                        <div class="card-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <h3>üìÖ Op√©rateurs de date</h3>
                        <p>Pour contenus r√©cents</p>
                    </div>
                    
                    <div class="category-card" data-category="fichiers-telechargeables">
                        <div class="card-icon">
                            <i class="fas fa-file-download"></i>
                        </div>
                        <h3>üîç Fichiers t√©l√©chargeables</h3>
                        <p>PDF, DOC, XLS, etc.</p>
                    </div>
                </div>

                <!-- S√©lection d'ann√©e (visible uniquement si des footprints avec ann√©e sont s√©lectionn√©s) -->
                <div id="serpYearSelection" class="year-selection" style="display: none;">
                    <h4><i class="fas fa-calendar"></i> S√©lection d'ann√©e</h4>
                    <div class="year-input">
                        <label for="serpYear">Ann√©e :</label>
                        <select id="serpYear">
                            <option value="2024">2024</option>
                            <option value="2025" selected>2025</option>
                            <option value="2026">2026</option>
                            <option value="2027">2027</option>
                        </select>
                    </div>
                </div>

                <!-- S√©lection de dates (visible uniquement si des op√©rateurs de date sont s√©lectionn√©s) -->
                <div id="serpDateSelection" class="date-selection" style="display: none;">
                    <h4><i class="fas fa-calendar"></i> S√©lection de dates</h4>
                    <div class="date-inputs">
                        <div class="date-input-group">
                            <label for="serpDateFrom">Date de d√©but :</label>
                            <input type="date" id="serpDateFrom" class="date-input">
                        </div>
                        <div class="date-input-group">
                            <label for="serpDateTo">Date de fin :</label>
                            <input type="date" id="serpDateTo" class="date-input">
                        </div>
                    </div>
                </div>

                <!-- Affichage des footprints s√©lectionn√©s -->
                <div id="serpFootprintsSection" class="footprints-section" style="display: none;">
                    <div class="footprints-header">
                        <h3><i class="fas fa-list"></i> Footprints s√©lectionn√©s</h3>
                        <div class="footprints-actions">
                            <button class="btn btn-secondary" onclick="selectAllSerpFootprints()">
                                <i class="fas fa-check-square"></i> Tout s√©lectionner
                            </button>
                            <button class="btn btn-secondary" onclick="deselectAllSerpFootprints()">
                                <i class="fas fa-square"></i> Tout d√©s√©lectionner
                            </button>
                        </div>
                    </div>
                    <div id="serpFootprintsList" class="footprints-list"></div>
                </div>
            </div>

            <!-- Page E-R√©putation -->
            <div class="page" id="ereputation-page">
                <div class="page-header">
                    <h2>E-R√©putation</h2>
                    <p>Footprints SEO pour analyser la r√©putation en ligne</p>
                </div>

                <div class="search-section">
                    <div class="search-form">
                        <input type="text" id="ereputationKeyword" placeholder="Entrez votre mot-cl√© pour analyser l'e-r√©putation...">
                        <button onclick="testEreputationOperators('google')" class="btn btn-primary">
                            <i class="fab fa-google"></i> Google
                        </button>
                        <button onclick="testEreputationOperators('bing')" class="btn btn-primary">
                            <i class="fab fa-microsoft"></i> Bing
                        </button>
                    </div>
                </div>

                <!-- Cat√©gories d'op√©rateurs E-R√©putation -->
                <div class="categories-grid">
                    <div class="category-card" data-category="avis-notations">
                        <div class="card-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <h3>üì£ Avis & notations</h3>
                        <p>Plateformes d'avis et notations</p>
                    </div>
                    
                    <div class="category-card" data-category="forums-discussion">
                        <div class="card-icon">
                            <i class="fas fa-comments"></i>
                        </div>
                        <h3>üí¨ Forums de discussion</h3>
                        <p>Forums et discussions communautaires</p>
                    </div>
                    
                    <div class="category-card" data-category="blogs-articles">
                        <div class="card-icon">
                            <i class="fas fa-blog"></i>
                        </div>
                        <h3>üìù Blogs, articles et news</h3>
                        <p>Contenus √©ditoriaux et articles</p>
                    </div>
                    
                    <div class="category-card" data-category="reseaux-sociaux">
                        <div class="card-icon">
                            <i class="fas fa-share-alt"></i>
                        </div>
                        <h3>üë• R√©seaux sociaux</h3>
                        <p>Via Google (Twitter, Facebook, etc.)</p>
                    </div>
                    
                    <div class="category-card" data-category="contenus-autorite">
                        <div class="card-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <h3>üìÇ Contenus √† forte autorit√©</h3>
                        <p>Fichiers (PDF, DOC, PPT)</p>
                    </div>
                    
                    <div class="category-card" data-category="charge-emotionnelle">
                        <div class="card-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <h3>üîé Charge √©motionnelle</h3>
                        <p>Requ√™tes √† forte suspicion</p>
                    </div>
                    
                    <div class="category-card" data-category="retours-utilisateurs">
                        <div class="card-icon">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <h3>üí¨ Retours utilisateurs</h3>
                        <p>Recherches classiques sur les retours</p>
                    </div>
                    
                    <div class="category-card" data-category="filtres-temporels">
                        <div class="card-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <h3>üìÖ Filtres temporels</h3>
                        <p>Pour contenus r√©cents</p>
                    </div>
                </div>

                <!-- S√©lection d'ann√©e (visible uniquement si des footprints avec ann√©e sont s√©lectionn√©s) -->
                <div id="ereputationYearSelection" class="year-selection" style="display: none;">
                    <h4><i class="fas fa-calendar"></i> S√©lection d'ann√©e</h4>
                    <div class="year-input">
                        <label for="ereputationYear">Ann√©e :</label>
                        <select id="ereputationYear">
                            <option value="2024">2024</option>
                            <option value="2025" selected>2025</option>
                            <option value="2026">2026</option>
                            <option value="2027">2027</option>
                        </select>
                    </div>
                </div>

                <!-- S√©lection de dates (visible uniquement si des op√©rateurs de date sont s√©lectionn√©s) -->
                <div id="ereputationDateSelection" class="date-selection" style="display: none;">
                    <h4><i class="fas fa-calendar"></i> S√©lection de dates</h4>
                    <div class="date-inputs">
                        <div class="date-input-group">
                            <label for="ereputationDateFrom">Date de d√©but :</label>
                            <input type="date" id="ereputationDateFrom" class="date-input">
                        </div>
                        <div class="date-input-group">
                            <label for="ereputationDateTo">Date de fin :</label>
                            <input type="date" id="ereputationDateTo" class="date-input">
                        </div>
                    </div>
                </div>

                <!-- Affichage des footprints s√©lectionn√©s -->
                <div id="ereputationFootprintsSection" class="footprints-section" style="display: none;">
                    <div class="footprints-header">
                        <h3><i class="fas fa-list"></i> Footprints s√©lectionn√©s</h3>
                        <div class="footprints-actions">
                            <button onclick="selectAllEreputationFootprints()" class="btn btn-secondary">
                                <i class="fas fa-check-square"></i> Tout s√©lectionner
                            </button>
                            <button onclick="deselectAllEreputationFootprints()" class="btn btn-outline">
                                <i class="fas fa-square"></i> Tout d√©s√©lectionner
                            </button>
                        </div>
                    </div>
                    <div id="ereputationFootprintsList" class="footprints-list"></div>
                </div>
            </div>

            <!-- Page IA -->
            <div class="page" id="ia-page">
                <div class="page-header">
                    <h2>IA</h2>
                    <p>Prompts ChatGPT pour analyser et optimiser votre pr√©sence digitale</p>
                </div>

                <div class="search-section">
                    <div class="search-form">
                        <input type="text" id="iaKeyword" placeholder="Entrez votre mot-cl√© pour g√©n√©rer des prompts IA...">
                    </div>
                </div>

                <!-- Cat√©gories de prompts IA -->
                <div class="categories-grid">
                    <div class="category-card" data-category="ereputation">
                        <div class="card-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3>üõ°Ô∏è E-R√©putation</h3>
                        <p>Analyse de la r√©putation en ligne</p>
                    </div>
                    
                    <div class="category-card" data-category="concurrence">
                        <div class="card-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>üìä Concurrence</h3>
                        <p>Analyse concurrentielle</p>
                    </div>
                    
                    <div class="category-card" data-category="seo">
                        <div class="card-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <h3>üîç SEO</h3>
                        <p>Optimisation du r√©f√©rencement</p>
                    </div>
                    
                    <div class="category-card" data-category="contenu">
                        <div class="card-icon">
                            <i class="fas fa-edit"></i>
                        </div>
                        <h3>üìù Contenu</h3>
                        <p>Strat√©gie de contenu</p>
                    </div>
                    
                    <div class="category-card" data-category="social">
                        <div class="card-icon">
                            <i class="fas fa-share-alt"></i>
                        </div>
                        <h3>üì± Social Media</h3>
                        <p>Strat√©gie r√©seaux sociaux</p>
                    </div>
                    
                    <div class="category-card" data-category="marketing">
                        <div class="card-icon">
                            <i class="fas fa-bullhorn"></i>
                        </div>
                        <h3>üéØ Marketing</h3>
                        <p>Strat√©gie marketing compl√®te</p>
                    </div>
                </div>

                <!-- Affichage des prompts s√©lectionn√©s -->
                <div id="iaPromptsSection" class="prompts-section" style="display: none;">
                    <div class="prompts-header">
                        <h3><i class="fas fa-robot"></i> Prompts s√©lectionn√©s</h3>
                        <div class="prompts-actions">
                            <button onclick="selectAllIaPrompts()" class="btn btn-secondary">
                                <i class="fas fa-check-square"></i> Tout s√©lectionner
                            </button>
                            <button onclick="deselectAllIaPrompts()" class="btn btn-outline">
                                <i class="fas fa-square"></i> Tout d√©s√©lectionner
                            </button>
                        </div>
                    </div>
                    <div id="iaPromptsList" class="prompts-list"></div>
                </div>
            </div>

            <!-- Page Projets -->
            <div class="page" id="projects-page">
                <div class="projects-dashboard">
                    <!-- Header avec statistiques -->
                    <div class="projects-header">
                        <div class="projects-title">
                            <h2>Mes Projets</h2>
                            <p>G√©rez vos projets SEO et E-R√©putation</p>
                        </div>
                        <div class="projects-actions">
                            <button class="btn btn-secondary" onclick="selectAllProjects()">
                                <i class="fas fa-check-square"></i> Tout s√©lectionner
                            </button>
                            <button class="btn btn-primary" onclick="openProjectModal()">
                                <i class="fas fa-plus"></i> + Nouveau projet
                            </button>
                        </div>
                    </div>

                    <!-- Statistiques -->
                    <div class="projects-stats">
                        <div class="stat-card">
                            <div class="stat-icon total">
                                <i class="fas fa-bullseye"></i>
                            </div>
                            <div class="stat-content">
                                <span class="stat-number" id="totalProjectsCount">0</span>
                                <span class="stat-label">Total projets</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon seo">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="stat-content">
                                <span class="stat-number" id="seoProjectsCount">0</span>
                                <span class="stat-label">R√©f√©rencement</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon reputation">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-content">
                                <span class="stat-number" id="reputationProjectsCount">0</span>
                                <span class="stat-label">E-R√©putation</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon monthly">
                                <i class="fas fa-calendar"></i>
                            </div>
                            <div class="stat-content">
                                <span class="stat-number" id="monthlyProjectsCount">0</span>
                                <span class="stat-label">Ce mois</span>
                            </div>
                        </div>
                    </div>

                    <!-- Recherche et filtres -->
                    <div class="projects-filters">
                        <div class="search-bar">
                            <i class="fas fa-search"></i>
                            <input type="text" id="projectSearch" placeholder="Rechercher par nom ou URL...">
                        </div>
                        <div class="filter-group">
                            <i class="fas fa-filter"></i>
                            <select id="objectiveFilter">
                                <option value="">Tous les objectifs</option>
                                <option value="SEO">R√©f√©rencement</option>
                                <option value="E-R√©putation">E-R√©putation</option>
                            </select>
                        </div>
                    </div>

                    <!-- Actions en masse pour projets -->
                    <div class="bulk-actions" id="projectBulkActions" style="display: none;">
                        <div class="bulk-actions-info">
                            <span id="selectedProjectsCount">0</span> projet(s) s√©lectionn√©(s)
                        </div>
                        <div class="bulk-actions-buttons">
                            <button class="btn btn-danger" onclick="deleteSelectedProjects()">
                                <i class="fas fa-trash"></i> Supprimer
                            </button>
                            <button class="btn btn-outline" onclick="clearProjectSelection()">
                                <i class="fas fa-times"></i> Annuler s√©lection
                            </button>
                        </div>
                    </div>

                    <!-- Liste des projets -->
                    <div class="projects-content">
                        <div class="projects-info">
                            <h3>Projets (<span id="projectCount">0</span>)</h3>
                        </div>
                        <div class="projects-grid" id="projectsGrid">
                            <!-- Les projets seront affich√©s ici -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page D√©tail Projet -->
            <div class="page" id="project-detail-page">
                <div class="project-detail-back">
                    <button class="btn btn-secondary" onclick="switchPage('projects')">
                        <i class="fas fa-arrow-left"></i> Retour aux projets
                    </button>
                </div>
                <div class="project-detail-container">
                    <!-- Header du projet -->
                    <div class="project-detail-header">
                        <div class="project-detail-info">
                            <div class="project-detail-title-container">
                                <h1 class="project-detail-title" id="projectDetailTitle">Nom du projet</h1>
                                <button class="project-edit-btn" onclick="toggleProjectEdit()" id="projectEditBtn">
                                    <i class="fas fa-edit"></i> Modifier le projet
                                </button>
                            </div>
                            <div class="project-detail-url-container">
                                <a href="#" target="_blank" class="project-detail-url" id="projectDetailUrl">
                                    URL du projet <i class="fas fa-external-link-alt"></i>
                                </a>
                            </div>
                            <div class="project-detail-keywords" id="projectDetailKeywords">
                                <!-- Les mots-cl√©s seront affich√©s ici -->
                            </div>
                            <div class="project-detail-updated" id="projectDetailUpdated">
                                Derni√®re mise √† jour : <span id="projectDetailUpdatedDate">-</span>
                            </div>
                        </div>
                        <div class="project-detail-objective">
                            <span class="project-objective-tag" id="projectDetailObjective">R√©f√©rencement</span>
                        </div>
                    </div>

                    <!-- Formulaire d'√©dition du projet -->
                    <div class="project-edit-form" id="projectEditForm" style="display: none;">
                        <form id="projectDetailForm">
                            <div class="edit-form-grid">
                                <div class="form-group">
                                    <label for="editProjectName">Nom du projet *</label>
                                    <input type="text" id="editProjectName" required>
                                </div>
                                <div class="form-group">
                                    <label for="editProjectUrl">URL du site *</label>
                                    <input type="url" id="editProjectUrl" required>
                                </div>
                                <div class="form-group">
                                    <label for="editProjectObjective">Objectif *</label>
                                    <select id="editProjectObjective" required>
                                        <option value="">S√©lectionner un objectif</option>
                                        <option value="SEO">R√©f√©rencement</option>
                                        <option value="E-R√©putation">E-R√©putation</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="editProjectTraffic">Trafic</label>
                                    <input type="number" id="editProjectTraffic" min="0" placeholder="50000">
                                </div>
                                <div class="form-group">
                                    <label for="editProjectTrustFlow">Trust Flow</label>
                                    <input type="number" id="editProjectTrustFlow" min="0" max="100" placeholder="50">
                                </div>
                                <div class="form-group">
                                    <label for="editProjectTTF">TTF</label>
                                    <select id="editProjectTTF">
                                        <option value="Arts">Arts</option>
                                        <option value="Adult">Adult</option>
                                        <option value="Business">Business</option>
                                        <option value="Computers">Computers</option>
                                        <option value="Games">Games</option>
                                        <option value="Health">Health</option>
                                        <option value="Home">Home</option>
                                        <option value="News">News</option>
                                        <option value="Reference">Reference</option>
                                        <option value="Regional">Regional</option>
                                        <option value="Science">Science</option>
                                        <option value="Shopping">Shopping</option>
                                        <option value="Society">Society</option>
                                        <option value="Sports">Sports</option>
                                        <option value="Recreation">Recreation</option>
                                        <option value="World">World</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="editProjectReferringDomains">Domaines r√©f√©rents</label>
                                    <input type="number" id="editProjectReferringDomains" min="0" placeholder="0">
                                </div>
                                <div class="form-group full-width">
                                    <label for="editProjectKeywords">Mots-cl√©s √† travailler</label>
                                    <div class="keywords-container">
                                        <div class="keywords-input-container">
                                            <input type="text" id="editKeywordInput" placeholder="Ajouter un mot-cl√©...">
                                            <button type="button" class="btn btn-sm btn-primary" onclick="addEditKeyword()">
                                                <i class="fas fa-plus"></i>
                                            </button>
                                        </div>
                                        <div class="keywords-tags" id="editKeywordsTags">
                                            <!-- Les mots-cl√©s seront affich√©s ici -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="edit-form-actions">
                                <button type="button" class="btn btn-secondary" onclick="cancelProjectEdit()">Annuler</button>
                                <button type="submit" class="btn btn-primary">Sauvegarder</button>
                            </div>
                        </form>
                    </div>

                    <!-- KPIs du projet -->
                    <div class="project-kpis">
                        <div class="kpi-card">
                            <div class="kpi-number" id="projectDetailTraffic">0</div>
                            <div class="kpi-label">Trafic</div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-number" id="projectDetailTrustFlow">0</div>
                            <div class="kpi-label">Trust Flow</div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-number" id="projectDetailReferringDomains">0</div>
                            <div class="kpi-label">Domaines r√©f√©rents</div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-number" id="projectDetailSpotsCount">0</div>
                            <div class="kpi-label">Spots</div>
                        </div>
                    </div>

                    <!-- Section des spots -->
                    <div class="project-spots-section">
                        <div class="project-spots-header">
                            <h2>Spots du projet (<span id="projectSpotsCount">0</span>)</h2>
                            <div class="project-spots-actions">
                                <button class="btn btn-success admin-only" onclick="exportProjectSpotsToExcel()" style="display: none;">
                                    <i class="fas fa-download"></i> Exporter Excel
                                </button>
                                <button class="btn btn-primary" onclick="openAddSpotModal()">
                                    <i class="fas fa-plus"></i> + Ajouter un spot
                                </button>
                            </div>
                        </div>
                        
                        <div class="project-spots-table-container">
                            <table class="project-spots-table" id="projectSpotsTable">
                                <thead>
                                    <tr>
                                        <th class="sortable" data-sort="url" onclick="sortSpotsTable('url')">SITE</th>
                                        <th class="sortable" data-sort="type" onclick="sortSpotsTable('type')">TYPE</th>
                                        <th class="sortable" data-sort="theme" onclick="sortSpotsTable('theme')">TH√âMATIQUE</th>
                                        <th class="sortable" data-sort="trustFlow" onclick="sortSpotsTable('trustFlow')">TRUST FLOW</th>
                                        <th class="sortable" data-sort="traffic" onclick="sortSpotsTable('traffic')">TRAFIC</th>
                                        <th class="sortable" data-sort="ttf" onclick="sortSpotsTable('ttf')">TTF</th>
                                        <th class="sortable" data-sort="publicationDate" onclick="sortSpotsTable('publicationDate')">DATE PUBLICATION</th>
                                        <th class="sortable" data-sort="status" onclick="sortSpotsTable('status')">STATUT</th>
                                        <th>ACTIONS</th>
                                    </tr>
                                </thead>
                                <tbody id="projectSpotsTableBody">
                                    <!-- Les spots seront affich√©s ici -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page Catalogue -->
            <div class="page" id="catalog-page">
                <div class="catalog-header">
                    <div class="catalog-title">
                        <h2>Catalogue de Spots</h2>
                        <p>G√©rez votre base de donn√©es de sites</p>
                    </div>
        <div class="catalog-actions">
            <button class="btn btn-info" onclick="refreshSitesFromSupabase()">
                <i class="fas fa-sync-alt"></i> Actualiser
            </button>
            <button class="btn btn-success admin-only" onclick="openImportModal()" style="display: none;">
                <i class="fas fa-upload"></i> Importer
            </button>
            <button class="btn btn-info admin-only" onclick="downloadCSVModel()" style="display: none;">
                <i class="fas fa-download"></i> Mod√®le CSV
            </button>
            <button class="btn btn-success admin-only" onclick="downloadExcelModel()" style="display: none;">
                <i class="fas fa-download"></i> Mod√®le Excel
            </button>
            <button class="btn btn-info admin-only" onclick="exportToExcel()" style="display: none;">
                <i class="fas fa-download"></i> Exporter Excel
            </button>
            <button class="btn btn-primary admin-only" onclick="openSiteModal()" style="display: none;">
                <i class="fas fa-plus"></i> Ajouter
            </button>
            <button class="btn btn-warning" onclick="configureEmailRedirect()" title="Configurer l'URL de redirection pour l'email de confirmation">
                <i class="fas fa-link"></i> URL Email
            </button>
        </div>
                </div>

                <div class="catalog-filters">
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" id="catalogSearch" placeholder="Rechercher par nom ou URL...">
                    </div>
                    <div class="filter-dropdowns">
                        <div class="filter-group">
                            <i class="fas fa-filter"></i>
                            <select id="typeFilter">
                                <option value="">Tous les types</option>
                                <option value="Forum">Forum</option>
                                <option value="Blog">Blog</option>
                                <option value="Annuaire">Annuaire</option>
                                <option value="M√©dia">M√©dia</option>
                                <option value="E-commerce">E-commerce</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <i class="fas fa-filter"></i>
                            <select id="themeFilter">
                                <option value="">Toutes les th√©matiques</option>
                                <option value="Actualit√©s & M√©dias">Actualit√©s & M√©dias</option>
                                <option value="Business & Marketing">Business & Marketing</option>
                                <option value="E-commerce & Affiliation">E-commerce & Affiliation</option>
                                <option value="√âducation & Formation">√âducation & Formation</option>
                                <option value="Sant√© & Bien-√™tre">Sant√© & Bien-√™tre</option>
                                <option value="Technologie & Informatique">Technologie & Informatique</option>
                                <option value="Lifestyle & Loisirs">Lifestyle & Loisirs</option>
                                <option value="Finance & Crypto">Finance & Crypto</option>
                                <option value="Immobilier">Immobilier</option>
                                <option value="Automobile">Automobile</option>
                                <option value="Cuisine & Alimentation">Cuisine & Alimentation</option>
                                <option value="Animaux">Animaux</option>
                                <option value="D√©veloppement personnel">D√©veloppement personnel</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Actions en masse -->
                <div class="bulk-actions" id="bulkActions" style="display: none;">
                    <div class="bulk-actions-info">
                        <span id="selectedCount">0</span> site(s) s√©lectionn√©(s)
                    </div>
                    <div class="bulk-actions-buttons">
                        <button class="btn btn-secondary" onclick="editSelectedSites()">
                            <i class="fas fa-edit"></i> Modifier
                        </button>
                        <button class="btn btn-danger" onclick="deleteSelectedSites()">
                            <i class="fas fa-trash"></i> Supprimer
                        </button>
                        <button class="btn btn-primary" onclick="showAddToProjectModal()">
                            <i class="fas fa-plus"></i> Ajouter au projet
                        </button>
                        <button class="btn btn-outline" onclick="clearSelection()">
                            <i class="fas fa-times"></i> Annuler s√©lection
                        </button>
                    </div>
                </div>

                <div class="catalog-content">
                    <div class="catalog-info">
                        <h3>Spots (<span id="sitesCount">0</span>)</h3>
                    </div>
                    <div class="catalog-table-container">
                        <table class="catalog-table" id="catalogTable">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="selectAllSites"></th>
                                    <th class="sortable" data-sort="url" onclick="sortTable('url')">URL</th>
                                    <th class="sortable" data-sort="type" onclick="sortTable('type')">TYPE</th>
                                    <th class="sortable" data-sort="theme" onclick="sortTable('theme')">TH√âMATIQUE</th>
                                    <th class="sortable" data-sort="traffic" onclick="sortTable('traffic')">TRAFIC</th>
                                    <th class="sortable" data-sort="trustFlow" onclick="sortTable('trustFlow')">TRUST FLOW</th>
                                    <th class="sortable" data-sort="ttf" onclick="sortTable('ttf')">TOPICAL TRUST FLOW (TTF)</th>
                                    <th class="sortable" data-sort="follow" onclick="sortTable('follow')">FOLLOW</th>
                                    <th>ACTIONS</th>
                                </tr>
                            </thead>
                            <tbody id="catalogTableBody">
                                <!-- Les sites seront affich√©s ici -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal Projet -->
    <div id="projectModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalProjectTitle">Nouveau Projet</h3>
                <button class="modal-close" onclick="closeProjectModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="projectForm">
                    <div class="form-group">
                        <label for="projectName">Nom du projet *</label>
                        <input type="text" id="projectName" required>
                    </div>
                    <div class="form-group">
                        <label for="projectUrl">URL du site *</label>
                        <input type="url" id="projectUrl" required>
                    </div>
                    <div class="form-group">
                        <label for="projectObjective">Objectif *</label>
                        <select id="projectObjective" required>
                            <option value="">S√©lectionner un objectif</option>
                            <option value="SEO">R√©f√©rencement</option>
                            <option value="E-R√©putation">E-R√©putation</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="projectTraffic">Trafic</label>
                        <input type="number" id="projectTraffic" min="0" placeholder="50000">
                    </div>
                    <div class="form-group">
                        <label for="projectTrustFlow">Trust Flow</label>
                        <input type="number" id="projectTrustFlow" min="0" max="100" placeholder="50">
                    </div>
                    <div class="form-group">
                        <label for="projectTTF">TTF</label>
                        <select id="projectTTF">
                            <option value="Arts">Arts</option>
                            <option value="Adult">Adult</option>
                            <option value="Business">Business</option>
                            <option value="Computers">Computers</option>
                            <option value="Games">Games</option>
                            <option value="Health">Health</option>
                            <option value="Home">Home</option>
                            <option value="News">News</option>
                            <option value="Reference">Reference</option>
                            <option value="Regional">Regional</option>
                            <option value="Science">Science</option>
                            <option value="Shopping">Shopping</option>
                            <option value="Society">Society</option>
                            <option value="Sports">Sports</option>
                            <option value="Recreation">Recreation</option>
                            <option value="World">World</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="projectReferringDomains">Domaines r√©f√©rents</label>
                        <input type="number" id="projectReferringDomains" min="0" placeholder="0">
                    </div>
                    <div class="form-group">
                        <label for="projectKeywords">Mots-cl√©s √† travailler</label>
                        <div class="keywords-container">
                            <div class="keywords-input-container">
                                <input type="text" id="keywordInput" placeholder="Ajouter un mot-cl√©...">
                                <button type="button" class="btn btn-sm btn-primary" onclick="addKeyword()">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                            <div class="keywords-tags" id="keywordsTags">
                                <!-- Les mots-cl√©s seront affich√©s ici -->
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeProjectModal()">Annuler</button>
                        <button type="submit" class="btn btn-primary">Enregistrer</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Ajouter Spot -->
    <div id="addSpotModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Ajouter un spot au projet</h3>
                <button class="modal-close" onclick="closeAddSpotModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addSpotForm">
                    <div class="form-group">
                        <label for="spotUrl">URL du site *</label>
                        <input type="url" id="spotUrl" required placeholder="https://exemple.com">
                    </div>
                    <div class="form-group">
                        <label for="spotType">Type</label>
                        <select id="spotType">
                            <option value="Forum">Forum</option>
                            <option value="Blog">Blog</option>
                            <option value="Annuaire">Annuaire</option>
                            <option value="M√©dia">M√©dia</option>
                            <option value="E-commerce">E-commerce</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="spotTheme">Th√©matique</label>
                        <select id="spotTheme">
                            <option value="Actualit√©s & M√©dias">Actualit√©s & M√©dias</option>
                            <option value="Business & Marketing">Business & Marketing</option>
                            <option value="E-commerce & Affiliation">E-commerce & Affiliation</option>
                            <option value="√âducation & Formation">√âducation & Formation</option>
                            <option value="Sant√© & Bien-√™tre">Sant√© & Bien-√™tre</option>
                            <option value="Technologie & Informatique">Technologie & Informatique</option>
                            <option value="Lifestyle & Loisirs">Lifestyle & Loisirs</option>
                            <option value="Finance & Crypto">Finance & Crypto</option>
                            <option value="Immobilier">Immobilier</option>
                            <option value="Automobile">Automobile</option>
                            <option value="Cuisine & Alimentation">Cuisine & Alimentation</option>
                            <option value="Animaux">Animaux</option>
                            <option value="D√©veloppement personnel">D√©veloppement personnel</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="spotTrustFlow">Trust Flow</label>
                        <input type="number" id="spotTrustFlow" min="0" max="100" placeholder="50">
                    </div>
                    <div class="form-group">
                        <label for="spotTraffic">Trafic</label>
                        <input type="number" id="spotTraffic" min="0" placeholder="10000">
                    </div>
                    <div class="form-group">
                        <label for="spotStatus">Statut</label>
                        <select id="spotStatus">
                            <option value="A publier">A publier</option>
                            <option value="Publi√©">Publi√©</option>
                            <option value="Rejet√©">Rejet√©</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeAddSpotModal()">Annuler</button>
                        <button type="submit" class="btn btn-primary">Ajouter le spot</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Modifier Spot -->
    <div id="editSpotModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Modifier le spot</h3>
                <button class="modal-close" onclick="closeEditSpotModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editSpotForm">
                    <div class="form-group">
                        <label for="editSpotUrl">URL du site *</label>
                        <input type="url" id="editSpotUrl" required placeholder="https://exemple.com">
                    </div>
                    <div class="form-group">
                        <label for="editSpotType">Type</label>
                        <select id="editSpotType">
                            <option value="Forum">Forum</option>
                            <option value="Blog">Blog</option>
                            <option value="Annuaire">Annuaire</option>
                            <option value="M√©dia">M√©dia</option>
                            <option value="E-commerce">E-commerce</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editSpotTheme">Th√©matique</label>
                        <select id="editSpotTheme">
                            <option value="Actualit√©s & M√©dias">Actualit√©s & M√©dias</option>
                            <option value="Business & Marketing">Business & Marketing</option>
                            <option value="E-commerce & Affiliation">E-commerce & Affiliation</option>
                            <option value="√âducation & Formation">√âducation & Formation</option>
                            <option value="Sant√© & Bien-√™tre">Sant√© & Bien-√™tre</option>
                            <option value="Technologie & Informatique">Technologie & Informatique</option>
                            <option value="Lifestyle & Loisirs">Lifestyle & Loisirs</option>
                            <option value="Finance & Crypto">Finance & Crypto</option>
                            <option value="Immobilier">Immobilier</option>
                            <option value="Automobile">Automobile</option>
                            <option value="Cuisine & Alimentation">Cuisine & Alimentation</option>
                            <option value="Animaux">Animaux</option>
                            <option value="D√©veloppement personnel">D√©veloppement personnel</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editSpotTrustFlow">Trust Flow</label>
                        <input type="number" id="editSpotTrustFlow" min="0" max="100" placeholder="50">
                    </div>
                    <div class="form-group">
                        <label for="editSpotTraffic">Trafic</label>
                        <input type="number" id="editSpotTraffic" min="0" placeholder="10000">
                    </div>
                    <div class="form-group">
                        <label for="editSpotTTF">TTF</label>
                        <select id="editSpotTTF">
                            <option value="Arts">Arts</option>
                            <option value="Adult">Adult</option>
                            <option value="Business">Business</option>
                            <option value="Computers">Computers</option>
                            <option value="Games">Games</option>
                            <option value="Health">Health</option>
                            <option value="Home">Home</option>
                            <option value="News">News</option>
                            <option value="Reference">Reference</option>
                            <option value="Regional">Regional</option>
                            <option value="Science">Science</option>
                            <option value="Shopping">Shopping</option>
                            <option value="Society">Society</option>
                            <option value="Sports">Sports</option>
                            <option value="Recreation">Recreation</option>
                            <option value="World">World</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editSpotPublicationDate">Date de publication</label>
                        <input type="date" id="editSpotPublicationDate">
                    </div>
                    <div class="form-group">
                        <label for="editSpotStatus">Statut</label>
                        <select id="editSpotStatus">
                            <option value="A publier">A publier</option>
                            <option value="Publi√©">Publi√©</option>
                            <option value="Rejet√©">Rejet√©</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeEditSpotModal()">Annuler</button>
                        <button type="submit" class="btn btn-primary">Sauvegarder</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Import Sites -->
    <div id="importModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Importer des sites en masse</h3>
                <button class="modal-close" onclick="closeImportModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="import-instructions">
                    <h4>Instructions d'import :</h4>
                    <ol>
                        <li>T√©l√©chargez le mod√®le Excel ou CSV pour voir le format attendu</li>
                        <li>Remplissez votre fichier avec vos sites</li>
                        <li>S√©lectionnez votre fichier (CSV, Excel .xlsx ou .xls)</li>
                        <li>Cliquez sur "Importer"</li>
                    </ol>
                </div>
                
                <div class="form-group">
                    <label for="importFile">Fichier √† importer</label>
                    <input type="file" id="importFile" accept="*" onchange="handleFileSelect(event)">
                    <small class="form-help">Formats support√©s : CSV (.csv), Excel (.xlsx, .xls)</small>
                </div>
                
                <div class="import-preview" id="importPreview" style="display: none;">
                    <h4>Aper√ßu des donn√©es :</h4>
                    <div class="preview-table-container">
                        <table class="preview-table" id="previewTable">
                            <thead>
                                <tr>
                                    <th>URL</th>
                                    <th>Type</th>
                                    <th>Th√©matique</th>
                                    <th>Trafic</th>
                                    <th>Trust Flow</th>
                                    <th>TTF</th>
                                    <th>Follow</th>
                                </tr>
                            </thead>
                            <tbody id="previewTableBody">
                                <!-- Les donn√©es seront affich√©es ici -->
                            </tbody>
                        </table>
                    </div>
                    <div class="import-stats" id="importStats">
                        <!-- Les statistiques seront affich√©es ici -->
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeImportModal()">Annuler</button>
                    <button type="button" class="btn btn-primary" id="importBtn" onclick="importCSVData()" disabled>
                        <i class="fas fa-upload"></i> Importer
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Ajouter au Projet -->
    <div id="addToProjectModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Ajouter au projet</h3>
                <button class="modal-close" onclick="closeAddToProjectModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="selectProject">S√©lectionner un projet</label>
                    <select id="selectProject" required>
                        <option value="">Choisir un projet...</option>
                        <!-- Les projets seront ajout√©s dynamiquement -->
                    </select>
                </div>
                <div class="selected-sites-preview" id="selectedSitesPreview">
                    <!-- Aper√ßu des sites s√©lectionn√©s -->
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeAddToProjectModal()">Annuler</button>
                    <button type="button" class="btn btn-primary" onclick="addSitesToProject()">
                        <i class="fas fa-plus"></i> Ajouter
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Site -->
    <div id="siteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalSiteTitle">Nouveau Site</h3>
                <button class="modal-close" onclick="closeSiteModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="siteForm">
                    <div class="form-group">
                        <label for="siteUrl">URL *</label>
                        <input type="url" id="siteUrl" required>
                    </div>
                    <div class="form-group">
                        <label for="siteType">Type</label>
                        <select id="siteType">
                            <option value="Forum">Forum</option>
                            <option value="Blog">Blog</option>
                            <option value="Annuaire">Annuaire</option>
                            <option value="M√©dia">M√©dia</option>
                            <option value="E-commerce">E-commerce</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="siteTheme">Th√©matique</label>
                        <select id="siteTheme">
                            <option value="Actualit√©s & M√©dias">Actualit√©s & M√©dias</option>
                            <option value="Business & Marketing">Business & Marketing</option>
                            <option value="E-commerce & Affiliation">E-commerce & Affiliation</option>
                            <option value="√âducation & Formation">√âducation & Formation</option>
                            <option value="Sant√© & Bien-√™tre">Sant√© & Bien-√™tre</option>
                            <option value="Technologie & Informatique">Technologie & Informatique</option>
                            <option value="Lifestyle & Loisirs">Lifestyle & Loisirs</option>
                            <option value="Finance & Crypto">Finance & Crypto</option>
                            <option value="Immobilier">Immobilier</option>
                            <option value="Automobile">Automobile</option>
                            <option value="Cuisine & Alimentation">Cuisine & Alimentation</option>
                            <option value="Animaux">Animaux</option>
                            <option value="D√©veloppement personnel">D√©veloppement personnel</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="siteTraffic">Trafic</label>
                        <input type="number" id="siteTraffic" min="0" placeholder="10000">
                    </div>
                    <div class="form-group">
                        <label for="siteTrustFlow">Trust Flow</label>
                        <input type="number" id="siteTrustFlow" min="0" max="100" placeholder="50">
                    </div>
                    <div class="form-group">
                        <label for="siteTTF">Topical Trust Flow (TTF)</label>
                        <select id="siteTTF">
                            <option value="Arts">Arts</option>
                            <option value="Adult">Adult</option>
                            <option value="Business">Business</option>
                            <option value="Computers">Computers</option>
                            <option value="Games">Games</option>
                            <option value="Health">Health</option>
                            <option value="Home">Home</option>
                            <option value="News">News</option>
                            <option value="Reference">Reference</option>
                            <option value="Regional">Regional</option>
                            <option value="Science">Science</option>
                            <option value="Shopping">Shopping</option>
                            <option value="Society">Society</option>
                            <option value="Sports">Sports</option>
                            <option value="Recreation">Recreation</option>
                            <option value="World">World</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="siteFollow">Follow</label>
                        <select id="siteFollow">
                            <option value="Oui">Oui</option>
                            <option value="Non">Non</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeSiteModal()">Annuler</button>
                        <button type="submit" class="btn btn-primary">Enregistrer</button>
                    </div>
                </form>
            </div>
        </div>
        </div> <!-- Fermeture de main-app -->
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="supabase-service.js"></script>
    <script src="ninja-linking-script.js"></script>
    <script>
        // Configuration automatique de l'URL de redirection au chargement
        document.addEventListener('DOMContentLoaded', function() {
            // V√©rifier si l'URL de redirection est d√©j√† configur√©e
            const currentRedirectUrl = localStorage.getItem('email-redirect-url');
            
            if (!currentRedirectUrl) {
                // Configuration automatique avec l'URL de production
                const productionUrl = 'https://ninjalinkingbv.netlify.app';
                localStorage.setItem('email-redirect-url', productionUrl);
                console.log('üîó URL de redirection configur√©e automatiquement:', productionUrl);
            } else {
                console.log('üîó URL de redirection actuelle:', currentRedirectUrl);
            }
            
            // Initialiser le s√©lecteur de th√®me
            initThemeSelector();
        });
        
        // Gestionnaire du s√©lecteur de th√®me
        function initThemeSelector() {
            const themeSelector = document.getElementById('themeSelector');
            const themeOptions = themeSelector.querySelectorAll('.theme-option');
            const body = document.body;
            
            // R√©cup√©rer le th√®me sauvegard√© ou utiliser automne par d√©faut
            const savedTheme = localStorage.getItem('selected-theme') || 'autumn';
            applyTheme(savedTheme);
            
            // Ajouter les √©v√©nements de clic
            themeOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const theme = this.getAttribute('data-theme');
                    applyTheme(theme);
                    
                    // Sauvegarder le th√®me
                    localStorage.setItem('selected-theme', theme);
                    
                    // Mettre √† jour l'√©tat actif
                    themeOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        }
        
        // Appliquer un th√®me
        function applyTheme(theme) {
            const body = document.body;
            
            // Supprimer toutes les classes de th√®me
            body.classList.remove('autumn-theme', 'white-theme');
            
            // Ajouter la classe du th√®me s√©lectionn√©
            if (theme !== 'autumn') {
                body.classList.add(theme + '-theme');
            }
            
            console.log('üé® Th√®me appliqu√©:', theme);
        }
    </script>
</body>
</html>